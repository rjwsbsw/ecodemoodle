define ("local_ecodebookmanager/confirm",["jquery","core/modal_factory","core/str","core/modal_events","core/ajax","core/notification"],function(a,b,c,d,f,g){var h=a(".local_ecodebookmanager_delete_button");b.create({type:b.types.SAVE_CANCEL,title:c.get_string("delete_book","local_ecodebookmanager"),body:c.get_string("delete_book_confirm","local_ecodebookmanager"),preShowCallback:function preShowCallback(b,d){b=a(b);var e=b[0].classList[0],f=e.substr(e.lastIndexOf('local_ecodebookmanagerid') + 'local_ecodebookmanagerid'.length);d.params={bookid:f};d.setSaveButtonText(c.get_string("delete_book","local_ecodebookmanager"))},large:!0},h).done(function(a){a.getRoot().on(d.save,function(b){b.preventDefault();var d=Y.one(".modal-footer");d.setContent(c.get_string('deleting', 'local_ecodebookmanager'));var e=M.util.add_spinner(Y,d);e.show();var h={methodname:"local_ecodebookmanager_delete_book",args:a.params};f.call([h])[0].done(function(a){if(!0===a){window.location.reload()}else{g.addNotification({message:c.get_string("delete_book_failed","local_ecodebookmanager"),type:"error"})}}).fail(g.exception)})})});
//# sourceMappingURL=confirm.min.js.map
